{% extends 'base.html' %}
{% block title %}Manage Addresses | HA CyberCircuit{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">🏠 Manage Shipping Addresses</h2>

  <form method="post" class="card p-4 shadow-sm mb-4">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Address Name</label>
        <input name="address_name" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">Street</label>
        <input name="street" class="form-control" required>
      </div>
      <div class="col-md-4">
        <label class="form-label">City</label>
        <input name="city" class="form-control" required>
      </div>
      <div class="col-md-4">
        <label class="form-label">State</label>
        <input name="state" class="form-control" required>
      </div>
      <div class="col-md-4">
        <label class="form-label">ZIP</label>
        <input name="zip" class="form-control" required>
      </div>
    </div>
    <button type="submit" class="btn btn-success mt-3">➕ Add Address</button>
  </form>

  <h4 class="mb-3">📦 Your Saved Addresses:</h4>
<ul class="list-group">
  {% for address in addresses %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      {{ address.address_name }}: {{ address.street }}, {{ address.city }}, {{ address.state }} {{ address.zip }}
      <span>
        <a href="{{ url_for('edit_address', address_id=address.address_id) }}" class="btn btn-sm btn-primary me-2">Edit</a>
        <a href="{{ url_for('delete_address', address_id=address.address_id) }}" 
           class="btn btn-sm btn-danger"
           onclick="return confirm('Are you sure you want to delete this address?');">Delete</a>
      </span>
    </li>
  {% else %}
    <li class="list-group-item text-muted">No addresses saved.</li>
  {% endfor %}
</ul>
</div>
{% endblock %}